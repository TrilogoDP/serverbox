<footer class="{% if (footer_theme_mode is defined and (footer_theme_mode == 1)) %}ls-dark-theme{% else %}ls-light-theme{% endif %}">
{% if (banner_items_footers is not empty) %}
<div class="box-banner-container">
<div class="container">
<div class="row banner-footer">
	{% for banner_items_footer in banner_items_footers %}
	<div class="col-xs-6 col-sm-6 col-md-2">
		<div class="block-banner-footer {% if ((banner_items_footer['popup'] == '1') and (banner_items_footer['link']) or (banner_items_footer['popup'] == '0') and (banner_items_footer['link'])) %}is_a_link{% endif %}" {% if ((banner_items_footer['popup'] == '1') and (banner_items_footer['link'])) %} onclick="banner_link_open('{{ banner_items_footer['link']}}')"{% elseif ((banner_items_footer['popup'] == '0') and (banner_items_footer['link'])) %}onclick="location='{{ banner_items_footer['link'] }}'" {% endif %}>
			{% if (banner_items_footer['icon_type'] == 0) %}
			<div class="icon-banner-footer">
				<span><i class="{{ banner_items_footer['icon_image']}}"></i></span>
			</div>
			{% else %}
			<div class="image-banner-footer">
				<img loading="lazy" width="50" height="50" src="{{ banner_items_footer['image'] }}" alt="{{ banner_items_footer['title'][lang_id] }}">
			</div>
			{% endif %}
			<div class="text-footer-banner">
				<div class="banner-title-footer">{{ banner_items_footer['title'][lang_id] }}</div>
				<div class="banner-description-footer">{{ banner_items_footer['description'][lang_id] }}</div>
			</div>
		</div>
	</div>
	{% endfor %}
</div>
</div>
</div>
{% endif %}
{% if (config_on_off_footer_ribbon == '1') %}
	<div class="container pos-rel">
		<div class="footer-ribbon-box">
			<div class="footer-ribbon">
				<span>{{ config_footer_ribbon[lang_id]['config_footer_ribbon']}}</span>
			</div>
		</div>
	</div>
{% endif %}
<div class="footer-top">
<div class="container">
	<div class="row">
	<div class="col-xs-12 col-sm-12 col-md-3 footer-contact">
		<ul class="list-unstyled">
		{% if (phones_footer) %}
			{% for phone_footer in phones_footer %}
				{% if (phone_footer['type'] is not empty) %}
					<li><a {{ phone_footer['type'] }}>{% if (phone_footer['icon_footer_phone'] is not empty) %}<i class="{{ phone_footer['icon_footer_phone'] }} fa-width"></i> {% endif %} {{ phone_footer['phone_footer'] }}</a></li>
				{% else %}
					<li>{% if (phone_footer['icon_footer_phone'] is not empty) %}<i class="{{ phone_footer['icon_footer_phone'] }} fa-width"></i> {% endif %} {{ phone_footer['phone_footer'] }}</li>
				{% endif %}
			{% endfor %}
		{% endif %}
		</ul>

		{% if (social_footer) %}
		<div class="socials">
		<ul class="list-unstyled">
			<li>
			{% for rsf in social_footer %}
				<a {% if (rsf['social_icon_footer'] is not empty) %} class="sficon" onmouseout="this.style.background=''" onMouseOver="this.style.background='{{ rsf['bg_hover_icon'] }}'" {% endif %} target="_blank" href="{% if (rsf['social_link_footer']) %}{{ rsf['social_link_footer'] }}{% else %}javascript:void(0);{% endif %}">
				{% if (rsf['social_icon_footer'] is not empty) %}
					<i class="{{ rsf['social_icon_footer'] }}"></i>
				{% else %}
					<img loading="lazy" width="25" height="25" src="{{ rsf['ifs'] }}" alt="">
				{% endif %}
				 </a>
			{% endfor %}
			</li>
		</ul>
		</div>
		{% endif %}
		{% if (config_payments_footer) %}
		<ul class="list-unstyled">
			<li>
				{% for config_payments_footer in config_payments_array_footer %}
					<a target="_blank" href="{% if (config_payments_footer['payments_link_footer']) %}//{{ config_payments_footer['payments_link_footer']}}{% else %}javascript:void(0);{% endif %}"><img src="{{ config_payments_footer['icon_footer_payments'] }}" alt="" title=""></a>
				{% endfor %}
			</li>
		</ul>
		{% endif %}
		{% if (ns_logo_footer is not empty) %}
		<div id="logo-footer">
			  <img src="{{ ns_logo_footer }}" alt="" class="img-responsive">
		</div>
		{% endif %}
	</div>
	<div class="col-xs-12 col-sm-12 col-md-9 f-column">
		<div class="col-xs-12 col-sm-6">
			<div class="title-f">
				{% if (fcols['column_3'][lang_id]['icon_image'] is defined and (fcols['column_3'][lang_id]['icon_image'] != '')) %}<i class="{{ fcols['column_3'][lang_id]['icon_image'] }}"></i> {% endif %}
				{{ fcols['column_3'][lang_id]['name_column'] is defined ? fcols['column_3'][lang_id]['name_column'] : '' }}
			</div>
			<ul class="list-unstyled two-c-pc">
				{% if (fcols['link_account'] is defined) %}<li><a href="{{ account }}">{{ text_account }}</a></li>{% endif %}
				{% if (fcols['link_order'] is defined) %}<li><a href="{{ order }}">{{ text_order }}</a></li>{% endif %}
				{% if (fcols['link_wishlist'] is defined) %}<li><a href="{{ wishlist }}">{{ text_wishlist }}</a></li>{% endif %}
				{% if (fcols['link_newsletter'] is defined) %}<li><a href="{{ newsletter }}">{{ text_newsletter }}</a></li>{% endif %}
				{% if (fcols['link_contact'] is defined) %}<li><a href="{{ contact }}">{{ text_contact }}</a></li>{% endif %}
				{% if (fcols['link_return'] is defined) %}<li><a href="{{ return }}">{{ text_return }}</a></li>{% endif %}
				{% if (footer_links) %}
					{% for result in footer_links %}
						{% if (result['column_link'] == 3) %}
							<li><a href="{{ result['link'] }}">{{ result['title'] }}</a></li>
						{% endif %}
					{% endfor %}
				{% endif %}
			</ul>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="title-f">
				{% if (fcols['column_2'][lang_id]['icon_image'] is defined and (fcols['column_2'][lang_id]['icon_image'] != '')) %}<i class="{{ fcols['column_2'][lang_id]['icon_image'] }}"></i> {% endif %}
				{{ fcols['column_2'][lang_id]['name_column'] is defined ? fcols['column_2'][lang_id]['name_column'] : '' }}
			</div>
			<ul class="list-unstyled two-c-pc">
				{% if (fcols['link_manufacturer'] is defined) %}<li><a href="{{ manufacturer }}">{{ text_manufacturer }}</a></li>{% endif %}
				{% if (fcols['link_voucher'] is defined) %}<li><a href="{{ voucher }}">{{ text_voucher }}</a></li>{% endif %}
				{% if (fcols['link_affiliate'] is defined) %}<li><a href="{{ affiliate }}">{{ text_affiliate }}</a></li>{% endif %}
				{% if (fcols['link_special'] is defined) %}<li><a href="{{ special }}">{{ text_special }}</a></li>{% endif %}
				{% if (fcols['link_sitemap'] is defined) %}<li><a href="{{ sitemap }}">{{ text_sitemap }}</a></li>{% endif %}
				{% if (footer_links) %}
					{% for result in footer_links %}
						{% if (result['column_link'] == 2) %}
							<li><a href="{{ result['link'] }}">{{ result['title'] }}</a></li>
						{% endif %}
					{% endfor %}
				{% endif %}
			</ul>
		</div>
		{% if (informations) %}
		<div class="col-xs-12 col-sm-6">
			<div class="title-f">{% if (fcols['column_1'][lang_id]['icon_image'] is defined and (fcols['column_1'][lang_id]['icon_image'] != '')) %}<i class="{{ fcols['column_1'][lang_id]['icon_image'] }}"></i> {% endif %}
				{{ fcols['column_1'][lang_id]['name_column'] is defined ? fcols['column_1'][lang_id]['name_column'] : '' }}
			</div>
			<ul class="list-unstyled two-c-pc">
				{% for information in informations %}
					<li><a href="{{ information['href'] }}">{{ information['title'] }}</a></li>
				{% endfor %}
			</ul>
		</div>
		{% endif %}
		{% if (footer_links) %}
		<div class="col-xs-12 col-sm-6">
			<div class="title-f">
				{% if (fcols['column_4'][lang_id]['icon_image'] is defined and (fcols['column_4'][lang_id]['icon_image'] != '')) %}<i class="{{ fcols['column_4'][lang_id]['icon_image'] }}"></i> {% endif %}
				{{ fcols['column_4'][lang_id]['name_column'] is defined ? fcols['column_4'][lang_id]['name_column'] : '' }}
			</div>
			<ul class="list-unstyled two-c-pc">
				{% if (footer_links) %}
					{% for result in footer_links %}
						{% if (result['column_link'] == 4) %}
							<li><a href="{{ result['link'] }}">{{ result['title'] }}</a></li>
						{% endif %}
					{% endfor %}
				{% endif %}
			</ul>
		</div>
		{% endif %}
	</div>
	</div>
  </div>
  {% if ((footer_desc_status) or (footer_map_status != 'off')) %}
  <div class="container">
	<div class="row">
	  {% if (footer_desc_status == 1) %}
		<div class="col-xs-12 {% if (footer_map_status == 'off') %}col-md-12{% else %}col-md-6{% endif %}">
		 <div class="title-f">{{ about_us }}</div>
		  <div class="description_store_footer">{{ description_store_footer }}</div>
		</div>
	  {% endif %}
	  {% if (footer_map_status != 'off') %}
	  <div class="{% if (footer_desc_status) %}col-md-6{% else %}col-md-12{% endif %}">
	  {% if (footer_map_status == 'codemap') %}{{ code_map }}{% endif %}
	  {% if (footer_map_status == 'gmap') %}
	  <div id="gmap_footer"></div>
	  <script src="//maps.google.com/maps/api/js?key={{ google_api_map_key }}"></script>
	  <script async src="catalog/view/theme/luxshop/js/markerclusterer.js"></script>
	  <script async src="catalog/view/theme/luxshop/js/FullScreenControl.js"></script>
	  <script>
	  function initialize() {
		var myLatlng = new google.maps.LatLng({{ center_google_map }});
		var myOptions = {
		  zoom: {{ zoom_google_map }},
		  center: myLatlng,
		  mapTypeId: google.maps.MapTypeId.ROADMAP
		}
		var map = new google.maps.Map(document.getElementById("gmap_footer"), myOptions);
		map.controls[google.maps.ControlPosition.TOP_RIGHT].push(FullScreenControl(map, '<span class="open-full-screen">{{ gmap_full_screen }}</span>','<span class="normal-screen">{{ gmap_normal_screen }}</span>'));
		var markers = [];
		myPlaces = [];
		{% for gmap_new in gmap_setting %}
		  myPlaces.push(new Place('{{ gmap_new.onelinetext[lang_id] }}', {{ gmap_new['latlong'] }}, '{{ gmap_new.maptext[lang_id] }}'));'));
		{% endfor %}
	  for (var i = 0, n = myPlaces.length; i < n; i++) {
		var marker = new google.maps.Marker({
		  position: new google.maps.LatLng(myPlaces[i].latitude, myPlaces[i].longitude),
		  map: map,
		title: myPlaces[i].name
	  });
		//Добавим попап, который будет появляться при клике на маркер
		  var infowindow = new google.maps.InfoWindow({
			  content: '<div class="title_popap_marker">' + myPlaces[i].name + '</div><div class="description_popap_marker">' + myPlaces[i].description + '</div>'
		  });
		  //привязываем попап к маркеру на карте
		  makeInfoWindowEvent(map, infowindow, marker);

	  markers.push(marker);

		  }
	  markerClusterer = new MarkerClusterer(map, markers, {
		maxZoom: 14,
		gridSize: 50,
		styles: null
	  });


	  }
	  function makeInfoWindowEvent(map, infowindow, marker) {
		  google.maps.event.addListener(marker, 'click', function() {
			  infowindow.open(map, marker);
		  });
	  }
	  function Place(name, latitude, longitude, description){
		  this.name = name;
		  this.latitude = latitude;
		  this.longitude = longitude;
		  this.description = description;
	  }
	  google.maps.event.addDomListener(window, 'load', initialize);
	  </script>
	  {% endif %}
	  </div>
	  {% endif %}
	</div>
  </div>
  {% endif %}
<div class="container copyright">
	<div class="row">
		<div class="col-sm-12">
			<p>{{ powered_new }}</p>
	   </div>
		{{ config_ns_footer_counters }}
	</div>
</div>
</div>
</footer>
<script>
function price_format(n){
	c = {{ currency['decimals'] is empty ? "0" : currency['decimals'] }};
	d = '{{ currency['decimal_point'] }}';
	t = '{{ currency['thousand_point'] }}';
	s_left = '{{ currency['symbol_left'] }}';
	s_right = '{{ currency['symbol_right'] }}';
	n = n * {{ currency['value'] }};
	i = parseInt(n = Math.abs(n).toFixed(c)) + '';
	j = ((j = i.length) > 3) ? j % 3 : 0;
	return s_left + (j ? i.substr(0, j) + t : '') + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : '') + s_right;
}

$(document).on('click', '.title-f', function () {
	if($(document).width() < 768){
		$(this).toggleClass('show-info');
		$(this).next().slideToggle(100);
		$('html, body').animate({ scrollTop: $(this).offset().top - 80}, 250);
	}
});

function init(elem, options){
	elem.addClass('countdownHolder');
	$.each(['Days','Hours','Minutes','Sec'],function(i){
	var clas;
	if (this=='Days') {clas="{{ days }}";}
	if (this=='Hours') {clas="{{ hours }}";}
	if (this=='Minutes') {clas="{{ minutes }}";}
	if (this=='Sec') {clas="{{ sec }}";}
	out_timer = "";
	out_timer += '<span class="count'+this+'">';
	out_timer += '<span class="num-time">';
	out_timer += '<span class="position"><span class="digit static">0</span></span>';
	out_timer += '<span class="position"><span class="digit static">0</span></span>';
	out_timer += '</span>';
	out_timer += '<span class="time_productany">'+clas+'</span>';
	out_timer += '</span>';
	$(out_timer).appendTo(elem);
	});
}
function downloadCSSAtOnload() {
	{% for key,value_href in css_luxshop_footer %}
		var element{{ key }} = document.createElement("link");
		element{{ key }}.href = "{{ value_href }}";
		element{{ key }}.rel = "stylesheet";
		document.body.appendChild(element{{ key }});
	{% endfor %}
}

function downloadJSAtOnload() {
	{% for key,value_src in js_luxshop_footer %}
		var element{{ key }} = document.createElement("script");
		element{{ key }}.src = "{{ value_src }}";
		document.body.appendChild(element{{ key }});
	{% endfor %}
	setTimeout(function () {
		addLsTimer();
		{% if (config_additional_settings_luxshop['price_recalc'] is defined and (config_additional_settings_luxshop['price_recalc'] == '1')) %}
		$('.quantity_plus_minus > .quantity-num').each(function () {
			recalcQuantity(this, false);
		});
		{% endif %}
	},700);
}
function addLsTimer(){
	$('body .action-timer').each(function () {
		if($(this).children('.countDays').length == 0){
			if($(this).attr('data-date-end')){
				var parts_date = $(this).attr('data-date-end').split('-');
				var ts = new Date(parts_date[0], parts_date[1] - 1, parts_date[2]);
				if((new Date()) > ts){
					ts = (new Date()).getTime() + 10*24*60*60*1000;
				}
				$(this).countdown({
					timestamp	: ts,
					callback	: function(days, hours, minutes, seconds){
					var message = "";
					message += days;
					message += hours;
					message += minutes;
					message += seconds;
					$(this).html(message);
					}
				});
			}
		}
	});
}

if (window.addEventListener){
	window.addEventListener('load', function() {
		{% if (css_luxshop_footer is not empty) %}
			downloadCSSAtOnload();
		{% endif %}
		{% if (css_luxshop_footer is not empty) %}
		downloadJSAtOnload();
		{% endif %}
	});
}
</script>
</body></html>